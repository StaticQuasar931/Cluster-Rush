<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Charset & Viewport -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Title (kept simple per your note) -->
  <title>Google</title>

  <!-- Preload rotating icon images -->
  <link rel="preload" as="image" href="https://res.cloudinary.com/dcsrqennd/image/upload/v1747533056/raw_um4pvq.png">
  <link rel="preload" as="image" href="https://res.cloudinary.com/dcsrqennd/image/upload/v1758072526/Join_Our_Discord_StaticQuassar931_lcplrf.png">
  <link rel="preload" as="image" href="https://res.cloudinary.com/dcsrqennd/image/upload/v1747533158/raw_cw34yi.png">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; background: #000; overflow: hidden; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

    /* Fullscreen game */
    iframe#gameFrame { width: 100vw; height: 100vh; border: 0; display: block; background: #000; }

    /* Static menu (top-left) */
    #staticMenu{
      position: fixed; top: 10px; left: 10px; z-index: 9999;
      background:#111; color:#0ff; padding:10px 16px; border-radius:10px; font-size:14px;
      animation: glow 2s infinite alternate;
      transition: opacity .35s ease, transform .35s ease, visibility .35s ease;
      user-select: none;
    }
    #staticMenu a{ color:#0ff; text-decoration:none; font-weight:700; }
    #closeStaticMenu{ margin-left:12px; color:#f55; cursor:pointer; }
    @keyframes glow{ 0%{opacity:.7} 100%{opacity:1; box-shadow:0 0 10px #0ff} }

    /* Rotating quick link (bottom-right): Google Form → Discord (+20%) → Instagram
       2s in → 5s show → 2s out → 20s hidden */
    #staticSlideMenu{
      position: fixed; bottom:24px; right:24px; z-index:9999;
      width:100px; height:100px; display:flex; align-items:center; justify-content:center;
      opacity:0; transform:translateX(120px) scale(.96); pointer-events:none;
      will-change:transform,opacity;
    }
    #staticSlideMenu img{ width:100%; height:100%; object-fit:cover; border-radius:50%; user-select:none; }
    #staticSlideMenu.discord-active img{ transform:scale(1.2); } /* +20% on Discord */
    .slideInRight2s{ animation:slideInRight2s 2s ease forwards; }
    .slideOutRight2s{ animation:slideOutRight2s 2s ease forwards; }
    @keyframes slideInRight2s{ from{opacity:0; transform:translateX(120px) scale(.96)} to{opacity:1; transform:translateX(0) scale(1)} }
    @keyframes slideOutRight2s{ from{opacity:1; transform:translateX(0) scale(1)} to{opacity:0; transform:translateX(120px) scale(.96)} }

    /* Y+U+I global toggle for menus */
    .menus-hidden #staticMenu,
    .menus-hidden #staticSlideMenu{
      opacity:0; transform: translateY(10px) scale(.98); visibility:hidden;
    }
  </style>
</head>
<body>
  <!-- Static Branding Menu -->
  <div id="staticMenu" aria-label="Static menu">
    <a href="https://sites.google.com/view/staticquasar931/gm3z" target="_blank" rel="noopener">More Unblocked Games by Static</a>
    <span id="closeStaticMenu" role="button" tabindex="0" aria-label="Hide Static Menu for 3 minutes">✕</span>
  </div>

  <!-- Bottom-right rotating icon (Google Form → Discord → Instagram) -->
  <a id="staticSlideMenu" href="https://sites.google.com/view/staticquasar931/google-form" target="_blank" rel="noopener"
     aria-label="Rotating quick link: Google Form, Discord, or Instagram">
    <img
      src="https://res.cloudinary.com/dcsrqennd/image/upload/v1747533056/raw_um4pvq.png"
      alt="Open StaticQuasar931 Google Form (feedback & requests) — opens in a new tab"
      loading="lazy" decoding="async" referrerpolicy="no-referrer">
  </a>

  <!-- IMPORTANT: GitHub wrapper must iframe the local game.html -->
  <iframe id="gameFrame" src="game.html" frameborder="0" scrolling="no" allowfullscreen="true" title="Game frame"></iframe>

  <script>
    // Leave warning (optional; remove if you don't want it)
    window.onbeforeunload = () => "Are you sure you want to leave? Your progress may not be saved.";

    /* --- Static Menu close/return (3 minutes) --- */
    (function initStaticMenuClose(){
      const menu = document.getElementById("staticMenu");
      const btn  = document.getElementById("closeStaticMenu");
      if (!menu || !btn) return;
      const restore = () => { menu.style.display = "block"; };
      btn.onclick = () => { menu.style.display = "none"; setTimeout(restore, 180000); };
      btn.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') btn.click(); });
    })();

    /* --- Slide popup rotation (Google Form → Discord → Instagram) --- */
    const FORM  = {
      src: "https://res.cloudinary.com/dcsrqennd/image/upload/v1747533056/raw_um4pvq.png",
      alt: "Open StaticQuasar931 Google Form (feedback & requests) — opens in a new tab",
      link: "https://sites.google.com/view/staticquasar931/google-form",
      id: "form"
    };
    const DISCORD = {
      src: "https://res.cloudinary.com/dcsrqennd/image/upload/v1758072526/Join_Our_Discord_StaticQuassar931_lcplrf.png",
      alt: "Join the StaticQuasar931 Discord community — opens in a new tab",
      link: "https://discord.gg/DP2hM7RRhR",
      id: "discord"
    };
    const INSTA = {
      src: "https://res.cloudinary.com/dcsrqennd/image/upload/v1747533158/raw_cw34yi.png",
      alt: "Visit StaticQuasar931 on Instagram — opens in a new tab",
      link: "https://www.instagram.com/freeschoolgamepage/",
      id: "instagram"
    };
    const ROTATION = [FORM, DISCORD, INSTA];

    // Timing: 2s in → 5s visible → 2s out → 20s hidden
    const T_IN=2000, T_SHOW=5000, T_OUT=2000, T_HIDDEN=20000;

    function preload(src){ return new Promise(res => { const i=new Image(); i.onload=i.onerror=res; i.src=src; }); }
    function restartAnim(el, cls){ el.classList.remove("slideInRight2s","slideOutRight2s"); void el.offsetWidth; el.classList.add(cls); }

    (async function rotatePopup(){
      const a = document.getElementById("staticSlideMenu");
      const img = a ? a.querySelector("img") : null;
      if (!a || !img) return;
      await Promise.all(ROTATION.map(s => preload(s.src)));
      let idx = 0;
      while(true){
        const st = ROTATION[idx];
        img.src = st.src; img.alt = st.alt; a.href = st.link;
        a.classList.toggle("discord-active", st.id === "discord");
        a.style.pointerEvents = "auto";
        restartAnim(a, "slideInRight2s");
        await new Promise(r=>setTimeout(r, T_IN + T_SHOW));
        restartAnim(a, "slideOutRight2s");
        await new Promise(r=>setTimeout(r, T_OUT));
        a.style.pointerEvents = "none";
        await new Promise(r=>setTimeout(r, T_HIDDEN));
        idx = (idx + 1) % ROTATION.length;
      }
    })();

    /* --- Menus global toggle via Y+U+I --- */
    (function menusHotkey(){
      const down = new Set();
      const check = () => { if (down.has('y') && down.has('u') && down.has('i')) document.body.classList.toggle('menus-hidden'); };
      addEventListener('keydown', e => { down.add((e.key||'').toLowerCase()); check(); });
      addEventListener('keyup',   e => { down.delete((e.key||'').toLowerCase()); });
      addEventListener('blur', () => down.clear());
    })();
  </script>
</body>
</html>
